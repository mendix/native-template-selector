(this["webpackJsonpnative-template-selector"]=this["webpackJsonpnative-template-selector"]||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(20),a=n.n(i),o=(n(64),n(65),n(7)),s=n(5),l=n(16),d=n.n(l),j="https://raw.githubusercontent.com/".concat("mendix/native-template","/master"),u="".concat(j,"/mendix_version.json"),b="".concat(j,"/.mx/releases_list.json"),f=Object.freeze({loading:1,complete:2});var h=n(8),O=n(19),x="/",m="/compare",p=Object(r.createContext)({versions:[],releases:{}}),g=p.Provider;function v(){var e=Object(r.useContext)(p),t=e.versions,n=e.releases;return n.sort((function(e,t){return Object(l.compare)(t.tag_name,e.tag_name)})),{versions:t,releases:n}}var w,y,k,S,C,E=n(49),P=n(1),D=h.a.div(w||(w=Object(o.a)(["\n  min-width: ",";\n  min-height: ",";\n"])),(function(e){return(e.width||0)+"px"}),(function(e){return(e.height||0)+"px"})),F=h.a.h2(y||(y=Object(o.a)(["\n  font-size: xxx-large;\n  font-weight: lighter;\n"]))),T=h.a.div(k||(k=Object(o.a)(["\n  font-size: 1em;\n  display: block;\n  color: ",";\n"])),(function(e){return e.color})),z=function(){return Object(P.jsx)("p",{children:"Loading..."})},I=function(e){return Object(P.jsx)(T,Object(E.a)(Object(E.a)({},e),{},{color:"darkred"}))};function R(){var e=Object(r.useRef)(),t=Object(r.useState)(),n=Object(s.a)(t,2),c=n[0],i=n[1],a=Object(r.useState)(),o=Object(s.a)(a,2),l=o[0],d=o[1],j=Object(r.useCallback)((function(){d(void 0);var t=e.current.value;t?i(t):d("Needs a value")}),[]);return Object(P.jsx)("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:Object(P.jsxs)("div",{style:{textAlign:"center",maxWidth:"600px"},children:[Object(P.jsx)(F,{children:"Input Mendix Version"}),Object(P.jsx)(J,{ref:e,onChange:j,placeholder:"eg 9.1.0"}),l&&Object(P.jsx)(T,{color:"darkorange",children:l}),c&&Object(P.jsx)(B,{mendixVersion:c}),Object(P.jsx)(D,{height:"24"}),Object(P.jsx)(O.b,{to:m,children:"Compare Template Versions"})]})})}var V,_,M,A,L,B=function(e){var t,n,c=e.mendixVersion,i=Object(r.useState)(),a=Object(s.a)(i,2),o=a[0],l=a[1],j=Object(r.useState)(),u=Object(s.a)(j,2),b=u[0],f=u[1],h=v(),O=h.versions,x=h.releases,m=(t=O,n=x,Object(r.useCallback)((function(e){if(!d.a.parse(e,{loose:!0})){var r=e.split("."),c=["x","x","x"].map((function(e,t){var n;return null!==(n=r[t])&&void 0!==n?n:e})).join(".");return{error:"The supplied mendix version is not valid. It needs to be a valid Semantic Version. eg ".concat(c)}}var i=Object.keys(t).find((function(t){return d.a.satisfies(d.a.coerce(e),t)}));if(!i)return{error:"Could not determine a proper mendix version range for ".concat(e)};var a=t[i],o=a.min,s=a.max,l=n.map((function(e){return e.tag_name})),j=d.a.maxSatisfying(l,"".concat(o," - ").concat(s));return j?{result:n[l.indexOf(j)]}:{error:"Could not determine a proper template version when ".concat(i," using ").concat(e)}}),[t,n]));return Object(r.useEffect)((function(){f(void 0),l(void 0);var e=m(c),t=e.error,n=e.result;t?f(t):l(n)}),[m,c]),Object(P.jsxs)(P.Fragment,{children:[o&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(N,{children:o.tag_name}),Object(P.jsx)(D,{height:"4"}),Object(P.jsx)("span",{style:{color:"gray"},children:"recommended template version"})]}),b&&Object(P.jsx)(I,{children:b})]})},N=h.a.div(S||(S=Object(o.a)(["\n  font-size: 3em;\n  display: block;\n  color: forestgreen;\n"]))),J=h.a.input(C||(C=Object(o.a)(["\n  font-size: 1.25em;\n  padding: 0.5em;\n  width: -webkit-fill-available;\n  text-align: center;\n  border: 1px solid lightgray;\n  border-radius: 4px;\n  flex-grow: 1;\n\n  ::placeholder {\n    color: lightgray;\n  }\n"]))),G=n(23);function H(e){var t=e.diffText,n=Object(G.d)(t).filter((function(e){return![e.newPath,e.oldPath].some((function(e){return new RegExp("(-|.)lock|.github").test(null!==e&&void 0!==e?e:"")}))&&Boolean(e.newPath||e.oldPath)}));return Object(P.jsx)(P.Fragment,{children:n.map((function(e){return Object(P.jsx)(K,{data:e},[e.newPath||e.oldPath,e.oldRevision,e.newRevision].join("-"))}))})}var W,q=Object(h.a)(G.b)(V||(V=Object(o.a)(["\n  .diff-gutter-col {\n    width: 2em;\n  }\n\n  td.diff-gutter {\n    color: rgba(27, 31, 35, 0.3);\n    padding: 0;\n    text-align: center;\n    font-size: 0.85em;\n    vertical-align: middle;\n    cursor: auto;\n  }\n\n  td.diff-gutter:hover {\n    cursor: pointer;\n    color: rgba(27, 31, 35, 0.6);\n  }\n\n  td.diff-code {\n    font-size: 0.95em;\n    color: #24292e;\n  }\n\n  td.diff-gutter-omit:before {\n    width: 0;\n  }\n"]))),K=function(e){var t=e.data,n=Object(r.useState)(!1),c=Object(s.a)(n,2),i=c[0],a=c[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(U,{onClick:function(){return a(!i)},isVisible:!0,children:[Object(P.jsx)("span",{children:i?"=":"#"}),Object(P.jsx)(D,{width:"16"}),Object(P.jsx)(Y,{oldPath:t.oldPath,newPath:t.newPath,type:t.type}),Object(P.jsx)(D,{width:"16"}),Object(P.jsx)($,{type:t.type})]}),i&&Object(P.jsx)(Q,{children:Object(P.jsx)(q,{viewType:"split",diffType:t.type,hunks:t.hunks,children:function(e){return e.map((function(e){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(G.a,{children:e.content},"decoration-"+e.content),Object(P.jsx)(G.c,{hunk:e},e.content)]})}))}},t.oldRevision+"-"+t.newRevision)})]})},Q=h.a.div(_||(_=Object(o.a)(["\n  background: white;\n  margin-bottom: 1em;\n  padding: 1em 0.25em;\n  border: 1px solid whitesmoke;\n  border-radius: 0 0 4px 4px;\n"]))),U=h.a.button(M||(M=Object(o.a)(["\n  background: whitesmoke;\n  color: black;\n  display: flex;\n  cursor: pointer;\n  align-items: center;\n  font-size: 1em;\n  min-height: 48px;\n  width: 100%;\n  margin-top: 1em;\n  padding: 0.25em 1em;\n  text-align: left;\n  border: 2px solid transparent;\n  border-radius: ",";\n\n  :hover {\n    background-color: lightgray;\n  }\n"])),(function(e){return e.isVisible?"4px 4px 0 0":"4px"})),X=h.a.span(A||(A=Object(o.a)(["\n  font-weight: bold;\n  display: flex;\n"]))),Y=function(e){var t=e.oldPath,n=e.newPath,r=e.type;return"delete"===r?Object(P.jsx)(X,{children:t}):t!==n&&"add"!==r?Object(P.jsxs)(X,{children:[t," ",Object(P.jsx)("span",{children:">"})," ",n,Object(P.jsx)(D,{width:"8"}),Object(P.jsx)(Z,{color:"lightgrey",children:"RENAMED"})]}):Object(P.jsx)(X,{children:n})},Z=h.a.span(L||(L=Object(o.a)(["\n  display: inline-block;\n  background-color: ",";\n  color: white;\n  font-size: 0.8em;\n  padding: 0.2em 0.5em;\n  border-radius: 4px;\n"])),(function(e){return e.color})),$=function(e){var t=e.type;return Object(P.jsx)(Z,{color:{add:"blue",modify:"green",delete:"red",rename:"orange"}[t],children:{add:"ADDED",modify:"MODIFIED",delete:"DELETED",rename:"RENAMED"}[t]})},ee=n(59);function te(){var e=v().releases,t=Object(r.useState)(null),n=Object(s.a)(t,2),c=n[0],i=n[1],a=Object(r.useState)(null),o=Object(s.a)(a,2),l=o[0],d=o[1],j=e.map((function(e){return{value:e.tag_name,label:e.tag_name}}));return Object(P.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(P.jsxs)("div",{style:{width:"75%"},children:[Object(P.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(P.jsx)(F,{style:{flexGrow:1},children:"Compare Template Versions"}),Object(P.jsx)(O.b,{to:x,children:"Home"})]}),Object(P.jsxs)("div",{style:{display:"flex"},children:[Object(P.jsx)(re,{value:c,onChange:i,options:j.filter((function(e){return e.value!==l}))}),Object(P.jsx)(D,{width:"8"}),Object(P.jsx)(re,{value:l,onChange:d,options:j.filter((function(e){return e.value!==c}))})]}),Object(P.jsx)(D,{height:"24"}),c&&l&&c.value!==l.value&&Object(P.jsx)(ne,{from:c.value,to:l.value}),Object(P.jsx)(D,{height:"64"})]})})}function ne(e){var t=function(e){var t=e.from,n=e.to,c=Object(r.useState)(f.loading),i=Object(s.a)(c,2),a=i[0],o=i[1],l=Object(r.useState)(),d=Object(s.a)(l,2),j=d[0],u=d[1],b=Object(r.useState)(),h=Object(s.a)(b,2),O=h[0],x=h[1];return Object(r.useEffect)((function(){u(void 0),o(f.loading),fetch("".concat("https://raw.githubusercontent.com/mendix/native-template-diffs/diffs/diffs","/").concat(t,"..").concat(n,".diff")).then((function(e){if(!e.ok){if(404===e.status)throw new Error("Missing diff files for ".concat(t," and ").concat(n));throw new Error(e.statusText)}return e.text()})).then((function(e){return x(e)})).catch((function(e){return u(e.message||e.toString())})).finally((function(){return o(f.complete)}))}),[t,n]),{state:a,error:j,templateDiff:O}}({from:e.from,to:e.to}),n=t.state,c=t.error,i=t.templateDiff;return Object(P.jsxs)(P.Fragment,{children:[n===f.loading&&Object(P.jsx)(z,{}),n===f.complete&&c&&Object(P.jsx)(I,{children:c}),n===f.complete&&!c&&Object(P.jsx)(H,{diffText:i})]})}var re=Object(h.a)(ee.a)(W||(W=Object(o.a)(["\n  flex-grow: 1;\n  font-size: 1.125em;\n\n  > div {\n    min-height: 48px;\n  }\n"]))),ce=n(4);function ie(){var e=function(){var e=Object(r.useState)(f.loading),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(),a=Object(s.a)(i,2),o=a[0],l=a[1],d=Object(r.useState)(),j=Object(s.a)(d,2),h=j[0],O=j[1],x=Object(r.useState)(),m=Object(s.a)(x,2),p=m[0],g=m[1];return Object(r.useEffect)((function(){l(void 0),c(f.loading),Promise.all([fetch(u),fetch(b)].map((function(e){return e.then((function(e){return e.json()}))}))).then((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];O(n),g(r)})).catch((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return l(null!==n&&void 0!==n?n:r)})).finally((function(){return c(f.complete)}))}),[]),{state:n,error:o,versions:h,releases:p}}(),t=e.state,n=e.error,c=e.versions,i=e.releases;return Object(P.jsxs)(P.Fragment,{children:[t===f.loading&&Object(P.jsx)(z,{}),t===f.complete&&n&&Object(P.jsx)(I,{children:n}),t===f.complete&&!n&&Object(P.jsx)(g,{value:{versions:c,releases:i},children:Object(P.jsx)(O.a,{children:Object(P.jsxs)(ce.c,{children:[Object(P.jsx)(ce.a,{path:m,children:Object(P.jsx)(te,{})}),Object(P.jsx)(ce.a,{path:x,children:Object(P.jsx)(R,{})})]})})})]})}var ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,119)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};a.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(ie,{})}),document.getElementById("root")),ae()},64:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.e7881daa.chunk.js.map