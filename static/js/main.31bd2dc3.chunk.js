(this["webpackJsonpnative-template-selector"]=this["webpackJsonpnative-template-selector"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(30),s=n.n(a),i=(n(35),n(3)),o=(n(36),n(8)),u=n.n(o),l="mendix/native-template",j="https://raw.githubusercontent.com/".concat(l,"/master"),b="".concat(j,"/mendix_version.json"),d="".concat(j,"/.mx/releases_list.json"),f=Object.freeze({loading:1,complete:2});var m=n(1);var O=function(e){var t,n,r=e.versions,a=e.releases,s=Object(c.useRef)(),o=Object(c.useState)(),l=Object(i.a)(o,2),j=l[0],b=l[1],d=Object(c.useState)(),f=Object(i.a)(d,2),O=f[0],p=f[1],v=Object(c.useState)(),h=Object(i.a)(v,2),x=h[0],g=h[1],S=(t=r,n=a,Object(c.useCallback)((function(e){if(!u.a.parse(e,{loose:!0})){var c=e.split("."),r=["x","x","x"].map((function(e,t){var n;return null!==(n=c[t])&&void 0!==n?n:e})).join(".");return{error:"The supplied mendix version is not valid. It needs to be a valid Semantic Version. eg ".concat(r)}}var a=Object.keys(t).find((function(t){return u.a.satisfies(u.a.coerce(e),t)}));if(!a)return{error:"Could not determine a proper mendix version range for ".concat(e)};var s=t[a],i=s.min,o=s.max,l=n.map((function(e){return e.tag_name})),j=u.a.maxSatisfying(l,"".concat(i," - ").concat(o));return j?{result:n[l.indexOf(j)]}:{error:"Could not determine a proper template version when ".concat(a," using ").concat(e)}}),[t,n])),N=Object(c.useCallback)((function(){g(void 0),p(void 0),b(void 0);var e=s.current.value;if(e){var t=S(e),n=t.error,c=t.result;n?p(n):b(c)}else g("Needs a value")}),[S]);return Object(m.jsxs)("div",{className:"query-body",children:[Object(m.jsx)("h2",{className:"header",children:"Input Mendix Version"}),Object(m.jsx)("div",{className:"selector",children:Object(m.jsx)("input",{ref:s,onChange:N})}),Object(m.jsxs)("div",{className:"result",children:[j&&Object(m.jsx)("p",{className:"success",children:Object(m.jsxs)("span",{children:["Required version: ",j.tag_name]})}),x&&Object(m.jsx)("p",{className:"warning",children:Object(m.jsx)("span",{children:x})}),O&&Object(m.jsx)("p",{className:"error",children:Object(m.jsx)("span",{children:O})})]})]})},p=function(){var e=function(){var e=Object(c.useState)(f.loading),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),s=Object(i.a)(a,2),o=s[0],u=s[1],l=Object(c.useState)(),j=Object(i.a)(l,2),m=j[0],O=j[1],p=Object(c.useState)(),v=Object(i.a)(p,2),h=v[0],x=v[1];return Object(c.useEffect)((function(){Promise.all([fetch(b),fetch(d)].map((function(e){return e.then((function(e){return e.json()}))}))).then((function(e){var t=Object(i.a)(e,2),n=t[0],c=t[1];O(n),x(c)})).catch((function(e){var t=Object(i.a)(e,2),n=t[0],c=t[1];return u(null!==n&&void 0!==n?n:c)})).finally((function(){return r(f.complete)}))}),[]),{state:n,error:o,mendixVersions:m,mendixReleases:h}}(),t=e.state,n=e.error,r=e.mendixVersions,a=e.mendixReleases,s=function(){var e=Object(c.useState)(f.loading),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),s=Object(i.a)(a,2),o=s[0],u=s[1],j=Object(c.useState)(),b=Object(i.a)(j,2),d=b[0],m=b[1];return Object(c.useEffect)((function(){fetch("http://github.com/".concat(l,"/compare/v6.1.4...v6.0.2.diff"),{}).then((function(e){return e.text()})).then((function(e){console.warn(e),m(e)})).catch((function(e){return u(e)})).finally((function(){return r(f.complete)}))}),[]),{state:n,error:o,templateDiff:d}}(),o=s.state,u=s.error,j=s.templateDiff;return console.log({a:o,b:u,templateDiff:j}),Object(m.jsxs)("div",{className:"App",children:[t===f.loading&&Object(m.jsx)("p",{children:"Loading..."}),t===f.complete&&n&&Object(m.jsxs)("p",{className:"error",children:["An error occurred...",Object(m.jsx)("br",{}),n]}),t===f.complete&&!n&&Object(m.jsx)(O,{versions:r,releases:a})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(p,{})}),document.getElementById("root")),v()}},[[75,1,2]]]);
//# sourceMappingURL=main.31bd2dc3.chunk.js.map